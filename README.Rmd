---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-"
)

library(oxfordtheme)
library(ggplot2)
```

# oxfordtheme: Oxford Palette, Theme, and Theme Components

<!-- badges: start -->
[![Project Status: WIP â€“ Initial development is in progress, but there has not yet been a stable, usable release suitable for the public.](https://www.repostatus.org/badges/latest/wip.svg)](https://www.repostatus.org/#wip)
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
[![R-CMD-check](https://github.com/OxfordIHTM/oxfordtheme/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/OxfordIHTM/oxfordtheme/actions/workflows/R-CMD-check.yaml)
[![Codecov test coverage](https://codecov.io/gh/OxfordIHTM/oxfordtheme/branch/main/graph/badge.svg)](https://app.codecov.io/gh/OxfordIHTM/oxfordtheme?branch=main)
[![CodeFactor](https://www.codefactor.io/repository/github/oxfordihtm/oxfordtheme/badge)](https://www.codefactor.io/repository/github/oxfordihtm/oxfordtheme)
<!-- badges: end -->

Palette, theme, and theme components based on [University of Oxford](https://ox.ac.uk)'s [visual identity guidelines](https://communications.web.ox.ac.uk/communications-resources/visual-identity/identity-guidelines). 

## What does `oxfordtheme` do?

`oxfordtheme` aims to provide templates, themes, and theme components for colour palettes, typography, and layout compliant with [University of Oxford](https://ox.ac.uk)'s [visual identity guidelines](https://communications.web.ox.ac.uk/communications-resources/visual-identity/identity-guidelines).for use in the R language for statistical computing publishing ecosystem.

Currently, the package provides colour palettes consistent with the colours prescribed by the university visual identity guidelines. Additional templates, themes, and theme components will be included over time.

## Installation

`oxfordtheme` is not yet available on [CRAN](https://cran.r-project.org) but can be installed through the [Oxford IHTM R universe](https://oxfordihtm.r-universe.dev) resository as follows:

```R
install.packages(
  "oxfordtheme", 
  repos = c(
    'https://oxfordihtm.r-universe.dev', 
    'https://cloud.r-project.org'
  )
)
```

## Usage

### Oxford colours

Based on the [University of Oxford](https://ox.ac.uk)'s [visual identity guidelines](https://communications.web.ox.ac.uk/communications-resources/visual-identity/identity-guidelines), the following colours are available from this package:

```{r oxford-colours, echo = FALSE}
oxford_colours |>
  knitr::kable()
```

```{r oxford-colours-graphic, echo = FALSE, fig.height = 1}
structure(get_oxford_colours() |> (\(x) x[x != ""])(), class = "palette", name = "Oxford Colours")
```

You can access either the name, RGB, CMYK, hex code, and/or Pantone values of each Oxford colour through the `get_oxford_colours()` function as follows:

```{r get-colours}
## Get hex code for Oxford blue
get_oxford_colours(pattern = "Oxford blue")

## Get hex code for all colours with "blue" in their name (show name in output)
get_oxford_colours(pattern = "blue", named = TRUE)
```

The `get_oxford_colours()` function can thus be used to create your own bespoke combination of colours from the Oxford colours palette and create your own theme (see next section for University of Oxford officially recommended themes using the Oxford colours).

### Oxford palettes

Based on the [University of Oxford](https://ox.ac.uk)'s [visual identity guidelines](https://communications.web.ox.ac.uk/communications-resources/visual-identity/identity-guidelines) and the carefully curated colour groups of the official University [theme packs](https://communications.web.ox.ac.uk/communications-resources/visual-identity/identity-guidelines/theme-packs), the following palettes are available from this package:

#### Heritage

```{r oxford-palettes-heritage-code}
oxford_theme_palettes()$heritage
```

```{r oxford-palettes-heritage-show, echo = FALSE, fig.height = 1}
structure(oxford_theme_palettes()$heritage, class = "palette", name = "heritage")
```

#### Contemporary

```{r oxford-palettes-contemporary-code}
oxford_theme_palettes()$contemporary
```

```{r oxford-palettes-contemporary-show, echo = FALSE, fig.height = 1}
structure(oxford_theme_palettes()$contemporary, class = "palette", name = "contemporary")
```

#### Celebratory

```{r oxford-palettes-celebratory-code}
oxford_theme_palettes()$celebratory
```

```{r oxford-palettes-celebratory-show, echo = FALSE, fig.height = 1}
structure(oxford_theme_palettes()$celebratory, class = "palette", name = "celebratory")
```

#### Corporate

```{r oxford-palettes-corporate-code}
oxford_theme_palettes()$corporate
```

```{r oxford-palettes-corporate-show, echo = FALSE, fig.height = 1}
structure(oxford_theme_palettes()$corporate, class = "palette", name = "corporate")
```

### Oxford theme paletttes for use in plotting

The University of Oxford recommended theme palettes can be used for plotting. Below is code examples of how this can be done both with base R plotting function and with `ggplot2`.

#### Bar plots in base R and using `ggplot`

```{r mtcars-barplot, fig.show = "hold", fig.height = 8, out.width = "50%"}
## Barplot of cyl and vs of mtcars dataset using heritage Oxford theme

### Base R
table(mtcars$cyl, mtcars$vs) |>
  barplot(
    names.arg = c("v-shaped", "straight"),
    main = "Engine shape by number of cylinders",
    ylab = "n",
    legend.text = TRUE,
    col = oxford_theme_palettes()$heritage,
    args.legend = list(
      x = "topright",
      inset = 0.002,
      title = "Cylinders",
      bty = "n"
    )
  )

### ggplot2
ggplot(
  data = mtcars, 
  mapping = aes(
      x = factor(vs, levels = c(0, 1), labels = c("v-shaped", "straight")), 
      fill = factor(cyl)
    )  
  ) +
  geom_bar() +
  scale_fill_manual(name = "Cylinders", values = oxford_theme_palettes()$heritage) +
  labs(
    title = "Engine shape by number of cylinders",
    x = NULL,
    y = "n"
  ) +
  theme_minimal()
```

#### Scatter plots in base R and using `ggplot`

```{r mtcars-scatterplot, fig.show = "hold", fig.height = 8, out.width = "50%"}
## Scatterplot of mpg and disp of mtcars dataset using celebratory Oxford theme

### Base R
cols <- ifelse(
  mtcars$cyl == 4, oxford_theme_palettes()$celebratory[1],
    ifelse(
      mtcars$cyl == 6, oxford_theme_palettes()$celebratory[2],
      oxford_theme_palettes()$celebratory[3]
    )
)

plot(
  x = mtcars$mpg, 
  y = mtcars$disp, 
  pch = 19, cex = 1.75, col = cols,
  main = "Miles per gallon by displacement grouped by number of cylinders",
  xlab = "mpg", ylab = "disp"
)
legend(
  x = "topright", inset = 0.02,
  title = "Cylinders",
  legend = c("4", "6", "8"),
  pch = 19, pt.cex = 1.5,
  col = oxford_theme_palettes()$celebratory[1:3]
)

### ggplot2
ggplot(data = mtcars, mapping = aes(x = mpg, y = disp, colour = factor(cyl))) +
  geom_point(size = 5) +
  scale_colour_manual(name = "Cylinders", values = oxford_theme_palettes()$celebratory) +
  labs(title = "Miles per gallon by displacement grouped by number of cylinders") +
  theme_minimal()
```

## Community guidelines

Feedback, bug reports and feature requests are welcome; file issues or seek support [here](https://github.com/OxfordIHTM/oxfordtheme/issues). If you would like to contribute to the package, please see our [contributing guidelines](https://oxford-ihtm.io/oxfordtheme/CONTRIBUTING.html).

This project is released with a [Contributor Code of Conduct](https://oxford-ihtm.io/oxfordtheme/CODE_OF_CONDUCT.html). By participating in this project you agree to abide by its terms.
